<section id="ReleaseStrategy" class="f8launcher-section-release-strategy"
         [ngClass]="{'hidden': hidden}">
  <div>
    <div class="container-fluid">
      <h1 snInViewport (onInViewportChange)="wizardComponent.onInViewportChange($event, 'ReleaseStrategy')" [debounce]="500">Select Release Strategy</h1>
      <p>
        There are multiple pipelines available to deploy your application. Each has 4 different stages with a varying set of capabilities. Stages of the piplines include: build release, integration testing, staging and running an application.
      </p>
      <p>
        There is a pre-selected, suggested pipeline based on the selected mission and technology.
      </p>
    </div>
  </div>
  <div>
    <div class="container-fluid container-cards-pf">
      <div class="row row-cards-pf">
        <div class="col-xs-12">
          <div class="card-pf">
            <div class="card-pf-heading">
              <h1 class="card-pf-title">
                Pipeline
              </h1>
              <div class="container-fluid">
                <div class="row toolbar-pf">
                  <div class="col-sm-12">
                    <form class="toolbar-pf-actions">
                      <div class="form-group toolbar-pf-filter">
                        <label class="sr-only" for="filter">Name</label>
                        <div class="input-group">
                          <div class="input-group-btn">
                            <button type="button" class="btn btn-default dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">Name <span class="caret"></span></button>
                            <ul class="dropdown-menu">
                              <li class="selected"><a href="#">Name</a></li>
                              <li><a href="#">Type</a></li>
                              <li><a href="#">Color</a></li>
                            </ul>
                          </div><!-- /btn-group -->
                          <input type="text" class="form-control" id="filter" placeholder="Filter By Name...">
                        </div><!-- /input-group -->
                      </div>
                      <div class="form-group">
                        <div class="dropdown btn-group">
                          <button type="button" class="btn btn-default dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">Name <span class="caret"></span></button>
                          <ul class="dropdown-menu">
                            <li class="selected"><a href="#">Name</a></li>
                            <li><a href="#">Type</a></li>
                            <li><a href="#">Last Modified</a></li>
                          </ul>
                        </div>
                        <button class="btn btn-link" type="button">
                          <span class="fa fa-sort-alpha-asc"></span>
                        </button>
                      </div>
                    </form>
                  </div>
                </div>
              </div>
            </div>
            <div class="card-pf-body">
              <div class="list-group list-view-pf list-view-pf-view">
                <div class="list-group-item" *ngFor="let pipeline of pipelines; let i = index">
                  <div class="f8launcher-tag-featured" *ngIf="pipeline.suggested" tooltip="Suggestion based on selected mission and runtime">
                    Suggested Pipeline <i class="pficon pficon-info"></i>
                  </div>
                  <div class="list-group-item-header">
                    <div class="list-view-pf-expand">
                      <span class="fa fa-angle-down"></span>
                    </div>
                    <div class="list-view-pf-checkbox">
                      <input name="pipelineId" type="radio"
                             [(ngModel)]="pipelineId"
                             [value]="pipeline.pipelineId"
                             (ngModelChange)="updatePipelineSelection(pipeline)">
                    </div>
                    <div class="list-view-pf-main-info">
                      <div class="list-view-pf-body">
                        <div class="list-view-pf-description">
                          <div class="list-group-item-heading">
                            <b>{{pipeline.name}}</b>
                          </div>
                          <div class="list-group-item-text">
                            <b>{{pipeline.stages.length}}</b> Stages
                          </div>
                          <div class="list-view-pf-additional-info">
                            <div class="list-view-pf-additional-info-item">
                              {{pipeline.description}}
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                  <div class="list-group-item-container container-fluid">
                    <div class="row">
                      <div class="col-md-12 f8launcher-pipeline-stages">
                        <ng-container *ngFor="let stage of pipeline.stages; let i = index">
                          <span class="f8launcher-pipeline-stages--line">{{stage}}</span>
                          <span class="f8launcher-pipeline-stages--arrow" *ngIf="i !== pipeline.stages.length - 1"></span>
                        </ng-container>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
  <div>
    <div class="container-fluid">
      <div class="f8launcher-continue">
        <button class="btn btn-primary"
                [disabled]="stepCompleted !== true"
                (click)="navToNextStep()">OK</button> or press <b>ENTER</b>
      </div>
    </div>
  </div>
</section>
